---
title: 投稿する
description: Pulsate の投稿についてのガイド
banner:
  content: |
    注意: 最新リリースでは機能や仕様が異なる場合があります。
---

import { Aside } from "@astrojs/starlight/components";


## テキスト投稿

Pulsate におけるテキスト投稿では最大3000文字までのテキストを投稿できます。

<Aside type="tip" title="文字数の扱い">
  特に明記がない限り、Pulsate では単語数を取得したうえで計算できる文字数を扱います。
</Aside>

### メンション

投稿には特定のユーザーに対してメンション出来ます。基本的にメンションする場合は全体を `<>` で囲み、ユーザーの完全なアドレスを指定します。

また、**Pulsate ではインスタンスのホスト名を省略することは出来ません**

入力例は以下のとおりです:

```
<@john@example.com> <@la@mi.growthers.dev> <@gargon@mastodon.social>
```

### 絵文字

投稿では **Unicode, インスタンスで作成されたカスタム絵文字** の2種類が扱えます。

#### カスタム絵文字

カスタム絵文字は Discord のような形式で使用します。公式クライアントまたは利用している非公式クライアントが対応している場合は絵文字ピッカーが利用できます。

- 全体を `<>` で囲む
- `::` で囲まれた絵文字のエイリアスのあとにそのインスタンス内で定義されている絵文字IDを入力する

入力例は以下の通りです:

```md
<:alias:2949583895994> <:ii_hanashi:284745363>
```

## 添付ファイル

Pulsate では画像や動画、音声ファイルなどのメディアファイルを投稿に添付できます。

1つの投稿に対して添付できるファイル数は最大16個までです。

### NSFW フラグ

> NSFWとは、英語圏で用いられるインターネットスラングで、「職場では見ない方がいい」（職場での閲覧は危険）という意味の略語である。日本語の「閲覧注意」におおむね相当する。
> NSFWは画像がメインの掲示板や、掲示板中の画像へのリンクなどに付けて用いられやすい。たいていは卑猥（エロ画像）・残酷（グロ画像）といった要素の強い、不用意な閲覧ははばかられる類のコンテンツが掲載されている。

投稿に添付したファイルが NSFW に該当する場合はフラグを ON にします。フラグが ON になっている添付ファイルはぼかし (ブラー) がかけられます。

<Aside type="note">
  多くのインスタンスは NSFW に該当する添付ファイルにはこのフラグをつけ, ぼかすことを必須にしているところが多いです。

  もし自分が投稿する添付ファイルが該当する場合はフラグをつけてることを **強く推奨します**。
</Aside>

### Content Warning / CW フラグ

投稿全体に何らかのコンテンツ警告 (ネタバレなど) がある場合はフラグを ON にします。

フラグが ON になっている投稿は開かない限り短く折りたたまれた状態で表示されます。

## 投稿範囲

投稿される範囲を4つのレベルで変更できます。

- [パブリック (公開)](#パブリック)
- [ホーム](#ホーム)
- [フォロワー](#フォロワー)
- [ダイレクト](#ダイレクト)

### パブリック

- **一番公開範囲が広いレベルです**。
- 自分のインスタンスと連合している他のインスタンスにも投稿が転送されます。

### ホーム

- 自分のインスタンスの投稿が表示されるホームタイムラインに投稿が転送されます。
- 外部インスタンスには転送されません。

### フォロワー

- 自分のフォロワーのタイムラインに投稿が転送されます。

### ダイレクト

- メンションした相手にのみ投稿が転送されます。

<Aside type="danger" title="ダイレクト投稿について">
  Pulsate におけるダイレクト投稿はエンドツーエンドによる暗号化が行われていません。(Mastodon など他実装と同じ挙動です)

  ダイレクト投稿で機密情報のやり取りは **絶対にしないでください**。
</Aside>

<br />

<hr />

<Aside type="note" title="開発者向け: 文字数の計算">
  Pulsate ではテキスト投稿の文字数を以下のコードを実行して計算できる文字数とします。

  ```js
  const count = (s: string) => {
  const segmenter = new Intl.Segmenter({ granularity: "word" });
  return [...segmenter.segment(s)].length;
};
  ```

  [`Intl.Segmenter` の詳細は MDN を参照してください](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter)。
</Aside>

<Aside title="開発者向け">
  投稿API に関するスペック(内部仕様)は [こちらから](https://spec.pulsate.dev/endpoint/notes.html) ご覧いただけます。
</Aside>

